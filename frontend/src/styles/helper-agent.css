:root{
  /* Match LabVoiceAgent width */
  --va-width: clamp(360px, 28vw, 450px);

  /* Brand */
  --ha-brand: #534CE8;

  /* Light */
  --ha-panel-bg: #ffffff;
  --ha-panel-ink: #0f172a;
  --ha-panel-border: rgba(15, 23, 42, 0.12);
}

/* Dark */
@media (prefers-color-scheme: dark) {
  :root{
    --ha-panel-bg:#151A21;
    --ha-panel-ink:#f5f7ff;
    --ha-panel-border:rgba(255,255,255,.12);
  }
}
:root[data-theme="dark"]{
  --ha-panel-bg:#151A21;
  --ha-panel-ink:#f5f7ff;
  --ha-panel-border:rgba(255,255,255,.12);
}

/* ===== Right dock (same geometry as LabVoiceAgent: fixed right, limited width/height) ===== */
.helper-assistant{
  position: fixed;
  right: 0;
  top: 80px;
  width: var(--va-width);
  max-width: var(--va-width);
  height: calc(90vh - 80px);

  background: var(--ha-panel-bg);
  color: var(--ha-panel-ink);
  border-left: 1px solid var(--ha-panel-border);
  box-shadow: -6px 0 16px rgba(0,0,0,.20);

  z-index: 1000;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  padding: 70px 16px 88px 16px; /* space for top controls + bottom mic */
}

/* Top controls */
.ha-controls{
  position: absolute;
  top: 12px; right: 12px;
  display: flex; gap: 8px; align-items: center;
}
.ha-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:10px; border:1px solid transparent;
  font-size:12.5px; cursor:pointer; color:#fff;
  background: linear-gradient(180deg, var(--ha-brand), #4238e0);
  box-shadow: 0 6px 16px rgba(83,76,232,.26);
  transition: transform .12s ease, box-shadow .2s ease;
}
.ha-btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 22px rgba(83,76,232,.32); }
.ha-btn.is-danger{
  background: linear-gradient(180deg, #ef4444, #b91c1c);
  box-shadow: 0 8px 18px rgba(239,68,68,.28);
}
.ha-close{
  width:40px; height:40px; border-radius:50%; border:none; cursor:pointer;
  display:grid; place-items:center; background: var(--ha-brand); color:#fff;
  box-shadow: 0 6px 14px rgba(83,76,232,.25);
}

/* Header */
.ha-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.ha-title{ font-weight:900; font-size:18px; }
.ha-status{ font-size:12.5px; opacity:.85; }
.ha-status.prepping{ color:#2c40c6; }
.ha-status.connected{ color:#065f46; }
.ha-status.error{ color:#b91c1c; }

/* Center orb */
.ha-orb{
  position:absolute; top:30%; left:50%; transform: translate(-50%, -50%);
  width:240px; height:240px; pointer-events:none;
}
.ha-orb-canvas{ width:100%; height:100%; display:block; }

/* Bottom AudioWave */
.ha-audiowave{
  margin-top: auto; /* sticks to bottom */
  border: 1px solid var(--ha-panel-border);
  border-radius: 12px;
  padding: 8px;
  background: var(--ha-panel-bg);
}

/* Mic FAB (inside the panel, bottom center) */
.ha-mic{
  position:absolute; left:50%; bottom:20px; transform: translateX(-50%);
  width:64px; height:64px; border:none; border-radius:50%; cursor:pointer;
  display:grid; place-items:center; color:#fff; font-size:1.6rem;
  background: linear-gradient(180deg, #22c55e, #16a34a);
  box-shadow: 0 14px 26px rgba(34,197,94,.28), 0 6px 10px rgba(34,197,94,.22),
              inset 0 -6px 10px rgba(0,0,0,.20), inset 0 2px 3px rgba(255,255,255,.45);
}
.ha-mic.on{
  box-shadow: 0 16px 30px rgba(34,197,94,.34), 0 8px 14px rgba(34,197,94,.26);
}

/* ===== FAB placement (reuse your validator .drg-fab styles/animations) ===== */
/* If validator FAB is still present too, you can offset this one: */
.drg-fab.ha-fab{
  right: 16px;       /* bottom-right corner — same spot as validator */
  bottom: 24px;
  z-index: 3001;
}
/* If both FABs must be visible simultaneously, uncomment this to stack above/below:
.drg-fab.ha-fab{ bottom: 76px; }  /* sits above the validator by ~52px */

/* No FAB styles here — we REUSE your validator FAB (.drg-fab) in Chat.jsx */

/* No FAB styles here — use your existing .drg-fab from the validator */
